/*
 * Created by RadenMas on 14/7/2022.
 * Copyright (c) 2022.
 */

package com.radenmas.smart_cctv

import android.content.Intent
import android.graphics.BitmapFactory
import android.os.Bundle
import android.util.Base64
import androidx.appcompat.app.AppCompatActivity
import com.radenmas.smart_cctv.databinding.ActivityMainBinding
import com.squareup.picasso.Picasso


class MainActivity : AppCompatActivity() {
    private lateinit var b: ActivityMainBinding

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        b = ActivityMainBinding.inflate(layoutInflater)
        setContentView(b.root)

        initView()
        onClick()
    }

    private fun onClick() {
        b.btnCapture.setOnClickListener {

        }

        b.btnStreaming.setOnClickListener {
            startActivity(Intent(this, StreamingActivity::class.java))
        }
    }

    private fun initView() {

        val dddd =
            "data:image/jpeg;base64,%2F9j%2F4AAQSkZJRgABAQEAAAAAAAD%2F2wBDAAoHCAkIBgoJCAkLCwoMDxkQDw4ODx8WFxIZJCAmJiQgIyIoLToxKCs2KyIjMkQzNjs9QEFAJzBHTEY%2FSzo%2FQD7%2F2wBDAQsLCw8NDx0QEB0%2BKSMpPj4%2BPj4%2BPj4%2BPj4%2BPj4%2BPj4%2BPj4%2BPj4%2BPj4%2BPj4%2BPj4%2BPj4%2BPj4%2BPj4%2BPj4%2BPj4%2BPj7%2FxAAfAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgv%2FxAC1EAACAQMDAgQDBQUEBAAAAX0BAgMABBEFEiExQQYTUWEHInEUMoGRoQgjQrHBFVLR8CQzYnKCCQoWFxgZGiUmJygpKjQ1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4eLj5OXm5%2Bjp6vHy8%2FT19vf4%2Bfr%2FxAAfAQADAQEBAQEBAQEBAAAAAAAAAQIDBAUGBwgJCgv%2FxAC1EQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4%2BTl5ufo6ery8%2FT19vf4%2Bfr%2FwAARCAB4AKADASEAAhEBAxEB%2F9oADAMBAAIRAxEAPwDykr9BTdv0rn9u9jbkDH0pdv0pe2DkuGPSjbVKs1oLkDbx2pMGh1X1K5Bmz2pNtHtri5dATKv61Pj6VrDEWVhcguM03bVzxV9kHsxhFIV74rH2%2FkPkE247U3FHtbgoCbabtpe2JUS4Tk%2Fcpuf9jFZfV5l86Dr%2FAA0uefuitI0ZE8yDP%2BzR%2FwABq%2Fqsx8wnb7lB6fdoeGkHtENP0pmevFZ%2BxkLmQh%2BlOjkA4K0405JhzkwPA%2BWkb%2FdroeHluPnQ3t0pO33az%2BryYucbn2pufah0ZhzoTPtTc%2F7NR7GSC5YP40n51fNFMVrC%2FWgc%2BtHPHoxWHD8aM8nriqVSPcLMT8TRT54sVmRPTF%2B9UOUWyrDzUZpSkr6CsSxtnr1p%2FwCdbRqR01DlG02l7SC6jsJSfnUyqR7k2sNpKhyGWz1%2B8aQf7xrBq%2FQ0eoo%2Bppcnb941cYuIhef77UhPP3jV8nkIO3U0h4zyaXKSQFsnOTSD733jWdn2LJT9TUZ%2BtFn2EmNztOQTUqvkdTmrj6AL2600%2FU0%2BXyHcb%2BNH0aos%2BwCZ%2FwBo03P%2B0aYiyee9Arb3b%2FETdi%2FU0v4%2FpVWS%2B0Fw%2FwA9KK15YNfESFQyN2%2FOsrRS%2BIa3GUlZvXqWGaKOXzJEoB20Wt1DUlDehpDV6fzDENNpcq%2FmFcSm0vmBdK%2F7QpNvvWftPItxF2%2F7Qp4T5eo%2FGtFK%2BliZRExz96lK47jNVGT7CGSNgYyOKrH6isZzuUohj%2FapVQscCov5DsWo7B3A5FP%2FALOfAziumFKU1sPlIZrR0PUVWK9iRWMrx0sJxEHB608fWlzeQWEI9xSfiKfOJITHvSY9xS5gsX8EHtR19K6Xhpi5h%2B0gZ4oYkf3a6Pq8ktyPaCL6mopHOD0rnlRcVYOa5o6X4evNUtmnXEUf8G%2F%2BOs7ythZH2hlOOlOeXzhBTb3NOYg2nfjFalpDtHaqw2FcmHOjWhhm8vIi4qTadmDH%2Ble1DDyWjHzlSYDuuPwrLuoeOgrkxGDdhc5lnPSnrn0FeR7MXML%2BApPwFL2b7hzCfhSfgKPYsLl%2FA%2FvUA4%2Fi%2FWuv3F9ogUuoX71RZzzupua0VxAWHHOAK3PD%2FhyXU8XVx8lsDkA%2F8tKuhRVepypjR0HiDXIbC3FnYHE2MH%2FYFcKx3MxJ%2B8ea68xqQk%2BRPY0QiIPPwDmuhgsbRNv2tnZz1UHGKywEIvW4jXsLaK3ffbSSAfxIW3CtOUWgTzeN3869xWWhOpgX0Nxcy5EkMKDpWFdRyRbhIQVzjcDxXFiodbj1MaYfvfSkX7teBJRvuId2pKOWPcYlJU6dwLjOWOOTUjWs%2BwPsz7A1ql7R6IOUtvo832ZpQeVGfaskNiniIewsDidV4e8NG7iF1qHyp%2FBCf4vetbXfEX9mQtBH8110G7nHvXr0LYXD%2B1e4rdDhvNkllaSVmd2OWY1YsoTe3sVtFw8hxmvGjUVR2fU0syf%2Bz5LS6UnnPK1om1jkU%2Bez%2FN%2Fd%2Bteth6Kg3Bk2LQmNrHiB523KV%2BfHOTmmSXEsflliSAa6%2FaWHYgu5bp9zRYk6%2FwAX5VnGSR0kjlXBrDEV320FYx5vmemx%2FdrwvaRuCQ%2Bkoc49hWYlNqOeLCx1VzYJZ%2BXHDIZpm64WrdjpF61qLo3C4HRNte9DDWqcsdjQtIJLhhbptUD%2FAFhc9%2FSrlt4a062fzvL8ycHILE7a6fY0q%2BslsTK5S8R681hm0tTm6bl2%2FwCedcQ8kkspkkYs7dSa8XMsWpVPZ9gimO3kCtbQo9SFy01tZzS74mQH7g5rlw3M6i5Ilu5orcG81A77c2rQjYYmOcVt2ttnpxXv0JKaFZop3FsZbpN88ccbHCKW%2BZqNT0zywBBJuOM4rRpO4alNYnaJCQB9KqX0ZVD61z1LezHymXDaCaN5H7c9apTwtBdSRf3a8erGMaakTyjOaTmuTnQWYhzSfNVc6FZnovleRBJJEAJApOT1qtDqkqaa0aCLbx1r6x1%2FZaWHy3DSJN0fnkgGR2JHqc1ti43fL3p0Z3jcmxi6loltqeoSyyGRHG1coRzSQ%2BE7BMbhLJyPvyYrkeCpTnzsZq%2F2XpGnR%2BabeGPYQQSM1Fqfi7TLYFLbM8g%2FuDiun2tDCRCxz013b3Oom6t2zuUbzt281rO7LB8rVz0ayqXaLSK8MmPlb5wT92m3TR%2BduWIK69yASK35tAsMSX91s7CsvUZjsNc2Ir2pisV1k8q1IwPmFZcsnmzs1ePXrXgkJobSfjXJzBYTFJRzC5T0Bp2uIJ%2FK4iCNuJ78VgySCKLHPTFfQYuT%2BItF%2Bwa0FqscwuWJ5I6Yq62qpYRnqV%2FvHrW9OoqdPmEZUnidgz%2BRH945y1U5vEeoSL%2Fr9h%2F2BXm1Mym37iAzZ7mad9088jn3NQ%2FjXmzlKpuBbsXClua6WXFzp%2BFcqcdq9TAczi4lIhtf3fE1nAcdyZcmo9QltjtFraPC6jBKXBYE13O%2FstYit5kW5hCN5%2BbFZV5L8v3q87EzkoagVp7jzlA6AelVhjNedOTk7kD%2FAMaPxrIYnHrScetPUDq5bz9wIxgLWfeZ8v73H1r6HEwlKOjEpEVvdeQPvD6A1XubiSdvm%2B72Ga86Un7PkuHMVunb9aX8KxVOXRiuIc0UKi31FcdG%2Bxs10emSkoueld2AjNS3LTNggFcZFVLobEOdvFey4aBzGJdzHpWRcvmvBxid9xNkXak71w8jFcdRR7NhcSk%2FCjkkK6L0s%2BOO1VXlLev51rUrcwajRUgrHniVYCOKbThVSFyic%2Bhpc%2FWtfaxFYXn0rSt7honBWro1vZzKUWbMOpjb8wK%2FWq15fq33RXtVMZBUwdzHfdK%2BecVUufv14c6ie4uXQjx8tNrHmQrDhRT5ogFJS5lcLDi2TUsdtcS201xFbyvBBjzZFQlY88Co5SrkX0p%2F5VXsri5h2B3o4HpW0aHLuHMJ%2BVLQqN2LmFq4B8gPpWnsVe1yky9DP%2B57bhxVaZtx7V11FzU0rj5kRFcLiqUwy1cE6VluDlchbpTM1nyEXHZozU8oXFptHKFz%2F9kA"
        val aaaa =
            "%2F9j%2F4AAQSkZJRgABAQEAAAAAAAD%2F2wBDAAoHCAkIBgoJCAkLCwoMDxkQDw4ODx8WFxIZJCAmJiQgIyIoLToxKCs2KyIjMkQzNjs9QEFAJzBHTEY%2FSzo%2FQD7%2F2wBDAQsLCw8NDx0QEB0%2BKSMpPj4%2BPj4%2BPj4%2BPj4%2BPj4%2BPj4%2BPj4%2BPj4%2BPj4%2BPj4%2BPj4%2BPj4%2BPj4%2BPj4%2BPj4%2BPj4%2BPj7%2FxAAfAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgv%2FxAC1EAACAQMDAgQDBQUEBAAAAX0BAgMABBEFEiExQQYTUWEHInEUMoGRoQgjQrHBFVLR8CQzYnKCCQoWFxgZGiUmJygpKjQ1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4eLj5OXm5%2Bjp6vHy8%2FT19vf4%2Bfr%2FxAAfAQADAQEBAQEBAQEBAAAAAAAAAQIDBAUGBwgJCgv%2FxAC1EQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4%2BTl5ufo6ery8%2FT19vf4%2Bfr%2FwAARCAB4AKADASEAAhEBAxEB%2F9oADAMBAAIRAxEAPwDykr9BTdv0rn9u9jbkDH0pdv0pe2DkuGPSjbVKs1oLkDbx2pMGh1X1K5Bmz2pNtHtri5dATKv61Pj6VrDEWVhcguM03bVzxV9kHsxhFIV74rH2%2FkPkE247U3FHtbgoCbabtpe2JUS4Tk%2Fcpuf9jFZfV5l86Dr%2FAA0uefuitI0ZE8yDP%2BzR%2FwABq%2Fqsx8wnb7lB6fdoeGkHtENP0pmevFZ%2BxkLmQh%2BlOjkA4K0405JhzkwPA%2BWkb%2FdroeHluPnQ3t0pO33az%2BryYucbn2pufah0ZhzoTPtTc%2F7NR7GSC5YP40n51fNFMVrC%2FWgc%2BtHPHoxWHD8aM8nriqVSPcLMT8TRT54sVmRPTF%2B9UOUWyrDzUZpSkr6CsSxtnr1p%2FwCdbRqR01DlG02l7SC6jsJSfnUyqR7k2sNpKhyGWz1%2B8aQf7xrBq%2FQ0eoo%2Bppcnb941cYuIhef77UhPP3jV8nkIO3U0h4zyaXKSQFsnOTSD733jWdn2LJT9TUZ%2BtFn2EmNztOQTUqvkdTmrj6AL2600%2FU0%2BXyHcb%2BNH0aos%2BwCZ%2FwBo03P%2B0aYiyee9Arb3b%2FETdi%2FU0v4%2FpVWS%2B0Fw%2FwA9KK15YNfESFQyN2%2FOsrRS%2BIa3GUlZvXqWGaKOXzJEoB20Wt1DUlDehpDV6fzDENNpcq%2FmFcSm0vmBdK%2F7QpNvvWftPItxF2%2F7Qp4T5eo%2FGtFK%2BliZRExz96lK47jNVGT7CGSNgYyOKrH6isZzuUohj%2FapVQscCov5DsWo7B3A5FP%2FALOfAziumFKU1sPlIZrR0PUVWK9iRWMrx0sJxEHB608fWlzeQWEI9xSfiKfOJITHvSY9xS5gsX8EHtR19K6Xhpi5h%2B0gZ4oYkf3a6Pq8ktyPaCL6mopHOD0rnlRcVYOa5o6X4evNUtmnXEUf8G%2F%2BOs7ythZH2hlOOlOeXzhBTb3NOYg2nfjFalpDtHaqw2FcmHOjWhhm8vIi4qTadmDH%2Ble1DDyWjHzlSYDuuPwrLuoeOgrkxGDdhc5lnPSnrn0FeR7MXML%2BApPwFL2b7hzCfhSfgKPYsLl%2FA%2FvUA4%2Fi%2FWuv3F9ogUuoX71RZzzupua0VxAWHHOAK3PD%2FhyXU8XVx8lsDkA%2F8tKuhRVepypjR0HiDXIbC3FnYHE2MH%2FYFcKx3MxJ%2B8ea68xqQk%2BRPY0QiIPPwDmuhgsbRNv2tnZz1UHGKywEIvW4jXsLaK3ffbSSAfxIW3CtOUWgTzeN3869xWWhOpgX0Nxcy5EkMKDpWFdRyRbhIQVzjcDxXFiodbj1MaYfvfSkX7teBJRvuId2pKOWPcYlJU6dwLjOWOOTUjWs%2BwPsz7A1ql7R6IOUtvo832ZpQeVGfaskNiniIewsDidV4e8NG7iF1qHyp%2FBCf4vetbXfEX9mQtBH8110G7nHvXr0LYXD%2B1e4rdDhvNkllaSVmd2OWY1YsoTe3sVtFw8hxmvGjUVR2fU0syf%2Bz5LS6UnnPK1om1jkU%2Bez%2FN%2Fd%2Bteth6Kg3Bk2LQmNrHiB523KV%2BfHOTmmSXEsflliSAa6%2FaWHYgu5bp9zRYk6%2FwAX5VnGSR0kjlXBrDEV320FYx5vmemx%2FdrwvaRuCQ%2Bkoc49hWYlNqOeLCx1VzYJZ%2BXHDIZpm64WrdjpF61qLo3C4HRNte9DDWqcsdjQtIJLhhbptUD%2FAFhc9%2FSrlt4a062fzvL8ycHILE7a6fY0q%2BslsTK5S8R681hm0tTm6bl2%2FwCedcQ8kkspkkYs7dSa8XMsWpVPZ9gimO3kCtbQo9SFy01tZzS74mQH7g5rlw3M6i5Ilu5orcG81A77c2rQjYYmOcVt2ttnpxXv0JKaFZop3FsZbpN88ccbHCKW%2BZqNT0zywBBJuOM4rRpO4alNYnaJCQB9KqX0ZVD61z1LezHymXDaCaN5H7c9apTwtBdSRf3a8erGMaakTyjOaTmuTnQWYhzSfNVc6FZnovleRBJJEAJApOT1qtDqkqaa0aCLbx1r6x1%2FZaWHy3DSJN0fnkgGR2JHqc1ti43fL3p0Z3jcmxi6loltqeoSyyGRHG1coRzSQ%2BE7BMbhLJyPvyYrkeCpTnzsZq%2F2XpGnR%2BabeGPYQQSM1Fqfi7TLYFLbM8g%2FuDiun2tDCRCxz013b3Oom6t2zuUbzt281rO7LB8rVz0ayqXaLSK8MmPlb5wT92m3TR%2BduWIK69yASK35tAsMSX91s7CsvUZjsNc2Ir2pisV1k8q1IwPmFZcsnmzs1ePXrXgkJobSfjXJzBYTFJRzC5T0Bp2uIJ%2FK4iCNuJ78VgySCKLHPTFfQYuT%2BItF%2Bwa0FqscwuWJ5I6Yq62qpYRnqV%2FvHrW9OoqdPmEZUnidgz%2BRH945y1U5vEeoSL%2Fr9h%2F2BXm1Mym37iAzZ7mad9088jn3NQ%2FjXmzlKpuBbsXClua6WXFzp%2BFcqcdq9TAczi4lIhtf3fE1nAcdyZcmo9QltjtFraPC6jBKXBYE13O%2FstYit5kW5hCN5%2BbFZV5L8v3q87EzkoagVp7jzlA6AelVhjNedOTk7kD%2FAMaPxrIYnHrScetPUDq5bz9wIxgLWfeZ8v73H1r6HEwlKOjEpEVvdeQPvD6A1XubiSdvm%2B72Ga86Un7PkuHMVunb9aX8KxVOXRiuIc0UKi31FcdG%2Bxs10emSkoueld2AjNS3LTNggFcZFVLobEOdvFey4aBzGJdzHpWRcvmvBxid9xNkXak71w8jFcdRR7NhcSk%2FCjkkK6L0s%2BOO1VXlLev51rUrcwajRUgrHniVYCOKbThVSFyic%2Bhpc%2FWtfaxFYXn0rSt7honBWro1vZzKUWbMOpjb8wK%2FWq15fq33RXtVMZBUwdzHfdK%2BecVUufv14c6ie4uXQjx8tNrHmQrDhRT5ogFJS5lcLDi2TUsdtcS201xFbyvBBjzZFQlY88Co5SrkX0p%2F5VXsri5h2B3o4HpW0aHLuHMJ%2BVLQqN2LmFq4B8gPpWnsVe1yky9DP%2B57bhxVaZtx7V11FzU0rj5kRFcLiqUwy1cE6VluDlchbpTM1nyEXHZozU8oXFptHKFz%2F9kA"
        val test =
            "https://firebasestorage.googleapis.com/v0/b/appbilonia.appspot.com/o/Book%2F-N2mMjE3JD4ggz8Nx3ev?alt=media&token=afc87ffe-218c-4adb-a239-eae779dbcaab"
        b.tvBase64.text = dddd

        b.webView.loadUrl(dddd)

        val decodedString: ByteArray = Base64.decode(aaaa, Base64.DEFAULT)
        val decodedByte =
            BitmapFactory.decodeByteArray(decodedString, 0, decodedString.size)
//        b.imgCapture.setImageBitmap(decodedByte)

        Picasso.get().load(test).into(b.imgAnu)

    }
}